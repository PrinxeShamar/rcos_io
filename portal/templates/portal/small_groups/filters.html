<nav>
    <form class="level" id="filters">
        <div class="level-left">
            <input type="hidden" name="semester" value="{{ target_semester.id|default:'' }}">
            <div class="level-item">
                <p class="subtitle is-6">
                    <strong>{{ small_groups|length }}</strong> result{{ small_groups|pluralize }}
                </p>
            </div>
            <div class="level-item">
                <div class="field has-addons">
                    <p class="control">
                        <input type="search" id="search" name="search" class="input"
                            placeholder="By name, project, mentor" value="{{ search|default:'' }}" />
                    </p>
                    <p class="control">
                        <button class="button">
                            Search
                        </button>
                    </p>
                </div>
            </div>
        </div>

        <div class="level-right">
            {% include "portal/includes/semester_select.html" with include_all_semesters=False %}
        </div>
    </form>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const filtersForm = document.getElementById("filters");
        const semesterSelect = filtersForm.querySelector("select[name='semester']");

        semesterSelect.addEventListener('change', function (ev) {
            filtersForm.submit();
        });
    });
</script>